<div id="page">
  <h2>Grupo Patrimonial</h2>
  <div id="page-container">
    <!-- List page filter -->
    <form class="grid p-fluid formgrid" [formGroup]="filterForm">
      <!-- Codigo Control -->
      <div class="field col-12 md:col-2">
        <label>Código</label>
        <input type="text" autofocus formControlName="codigo" placeholder="Código" pInputText>
      </div>
      <!-- Descrição Control -->
      <div class="field col-12 md:col-6">
        <label>Descrição</label>
        <input type="text" autofocus formControlName="descricao" placeholder="Descrição" pInputText>
      </div>
      <!-- Status Control -->
      <div class="field col-12 md:col-3">
        <label>Status</label>
        <p-dropdown [options]="statusOptions" formControlName="inativo" optionLabel="name"
          placeholder="Selecione..." (onBlur)="setEmptyStatusValue()" [showClear]="true"></p-dropdown>
      </div>
      <!-- Search Button -->
      <div class="field col-12 md:col-1">
        <label style="height: 1em; width: 100%;"></label>
        <button class="p-button-secondary p-button-outlined" pButton icon="ph ph-magnifying-glass"
          (click)="get()"></button>
      </div>
    </form>
    <!-- Table -->
    <p-table [value]="dataList!" styleClass="p-datatable-sm mt-3">
      <ng-template pTemplate="header">
        <tr>
          <th style="width:16.66%">Código</th>
          <th style="width:51%">Descrição</th>
          <th>Status</th>
          <th></th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-data>
        <tr>
          <td>{{ data.Codigo }}</td>
          <td>{{ data.Descricao }}</td>
          <td>{{ data.Inativo == 'S' ? "Inativo" : "Ativo" }}</td>
          <td style="text-align: right">
            <i class="ph ph-info cursor-pointer" title="Ver detalhes" (click)="setInfoFormData(data)">
            </i>
          </td>
        </tr>
      </ng-template>
      <ng-template pTemplate="footer">
        <tr *ngIf="!dataList?.length">
          <td colspan="4" class="text-center font-normal">
            Não há subgrupos a serem exibidos.
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>
</div>
<!-- Form -->
<app-heritage-group-info [formVisible]="infoFormVisible"
  (setFormVisible)="setInfoFormVisible($event)" [data]="data">
</app-heritage-group-info>
